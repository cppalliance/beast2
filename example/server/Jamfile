#
# Copyright (c) 2019 Vinnie Falco (vinnie.falco@gmail.com)
# Copyright (c) 2025 Mohammad Nejati
#
# Distributed under the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#
# Official repository: https://github.com/CPPAlliance/http_proto
#

using openssl ;
import ac ;

lib advapi32 ;
lib crypt32 ;
lib gdi32 ;
lib user32 ;

project
    : requirements
      <library>/boost/beast2//boost_beast2
      <library>/boost/url//boost_url
      [ ac.check-library /boost/rts//boost_rts_zlib : <library>/boost/rts//boost_rts_zlib : ]
      [ ac.check-library /boost/rts//boost_rts_brotli : <library>/boost/rts//boost_rts_brotli : ]
      [ ac.check-library /openssl//ssl : <library>/openssl//ssl/<link>shared : <build>no ]
      [ ac.check-library /openssl//crypto : <library>/openssl//crypto/<link>shared : <build>no ]
      <target-os>windows:<library>advapi32
      <target-os>windows:<library>crypt32
      <target-os>windows:<library>gdi32
      <target-os>windows:<library>user32
      <include>.
    ;

exe server :
    [ glob *.cpp ]
    ;
