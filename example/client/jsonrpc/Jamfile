#
# Copyright (c) 2025 Mohammad Nejati
#
# Distributed under the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#
# Official repository: https://github.com/cppalliance/beast2
#

import config : requires ;

using openssl ;
import ac ;

lib advapi32 ;
lib crypt32 ;
lib gdi32 ;
lib user32 ;

project
    : requirements
      <library>/boost/beast2//boost_beast2
      [ ac.check-library /boost/capy//boost_capy_zlib : <library>/boost/capy//boost_capy_zlib : ]
      [ ac.check-library /boost/capy//boost_capy_brotli : <library>/boost/capy//boost_capy_brotli : ]
      [ ac.check-library /openssl//ssl : <library>/openssl//ssl/<link>shared : <build>no ]
      [ ac.check-library /openssl//crypto : <library>/openssl//crypto/<link>shared : <build>no ]
      <target-os>windows:<library>advapi32
      <target-os>windows:<library>crypt32
      <target-os>windows:<library>gdi32
      <target-os>windows:<library>user32      <library>/boost/url//boost_url
      <library>/boost/json//boost_json
      <library>/boost/multiprecision//boost_multiprecision
      <include>.
    ;

exe jsonrpc_example :
    main.cpp
    [ glob jsonrpc/*.cpp ]
    ;
